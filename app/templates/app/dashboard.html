{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <title>Stiletto Dashboard</title>
</head>

<body style="background-color: #0b0c0d;">
    <div class="">
    <nav class="navbar navbar-expand navbar-light" style="background-color: #fdf5e7;">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <picture>
                    <img src='{% static "logo.png" %}' alt="Hi!" class="img-fluid" alt="image desc"
                        style="width:70px;height:65px; margin-left: 10px;">
                </picture>
            </a>
            <div class="navbar-brand" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Dropdown link
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <li>
                                <a class="dropdown-item" href="#">Action</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">Another action</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">Something else here</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <button class="d-flex btn btn-outline-success" type="submit"
                style="border-color: #a86c0c;color: #a86c0c;">Logout</button>
        </div>
        
    </nav>

    <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#fdf5e7" fill-opacity="1" d="M0,192L12,170.7C24,149,48,107,72,80C96,53,120,43,144,58.7C168,75,192,117,216,144C240,171,264,181,288,192C312,203,336,213,360,186.7C384,160,408,96,432,96C456,96,480,160,504,197.3C528,235,552,245,576,234.7C600,224,624,192,648,160C672,128,696,96,720,85.3C744,75,768,85,792,85.3C816,85,840,75,864,64C888,53,912,43,936,53.3C960,64,984,96,1008,122.7C1032,149,1056,171,1080,154.7C1104,139,1128,85,1152,58.7C1176,32,1200,32,1224,58.7C1248,85,1272,139,1296,176C1320,213,1344,235,1368,240C1392,245,1416,235,1428,229.3L1440,224L1440,0L1428,0C1416,0,1392,0,1368,0C1344,0,1320,0,1296,0C1272,0,1248,0,1224,0C1200,0,1176,0,1152,0C1128,0,1104,0,1080,0C1056,0,1032,0,1008,0C984,0,960,0,936,0C912,0,888,0,864,0C840,0,816,0,792,0C768,0,744,0,720,0C696,0,672,0,648,0C624,0,600,0,576,0C552,0,528,0,504,0C480,0,456,0,432,0C408,0,384,0,360,0C336,0,312,0,288,0C264,0,240,0,216,0C192,0,168,0,144,0C120,0,96,0,72,0C48,0,24,0,12,0L0,0Z"></path></svg> -->
</div>
    <br>
    <br>
    <div class="container mx-5">

        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" style="background-color: #452b09; color: #e9b055; border-color: #a86c0c; border-radius: 7px; position: fixed; bottom: 20px; right: 20px;">
            Add Webhook +
        </button>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" style="background-color: #131516;">
                <div class="modal-content" style="background-color: #131516;">
                    <div class="modal-header" style="background-color: #131516; color: aliceblue; border-color: #766e61;">
                        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                        <button type="button" class="btn-close " style="color:aliceblue;" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" style="background-color: #131516; color: aliceblue;">
                        <form action="{% url 'submitalert' %}" method="post">
                            {% csrf_token %}
                            <div class="mx-auto" style="width: 70%;background-color: #131516; color: aliceblue;">
                                <div id="telegramInputs">
                                    <div class="card p-3 shadow" id="tgoptions" style="background-color: #131516; color: aliceblue; border-color: #252729;">
                                        <div class="form-check mb-3">
                                            {{tg_form.telegram_enabled}}
                                            <label class="form-check-label" for="flexCheckChecked">
                                                Add a Telegram Chat
                                            </label>
                                        </div>
                                        <div>
                                            <div class="input-group mx-auto" style="width: 60%;">
                                                {{tg_form.channel_chat_id}}
                                            </div><br>
                                            <div class="row">
                                                <div class="input-group col-auto mx-auto" style="width: 50%;height:120px">
                                                    {{tg_form.message_prefix}}
                                                </div>
                                                <div class="input-group col-auto mx-auto" style="width: 50%;height:120px">
                                                    {{tg_form.message_suffix}}
                                                </div>
                                            </div>
                                            <br>
                                            <br>
                                        </div>
                                    </div>
                                </div>
                                <!-- <button type="button" class="btn btn-primary" onclick="addTelegramInput()">Telegram +</button>
                                <br>
                                <div id="mt5Inputs">
                                    <div class="card p-3 shadow" style="background-color: #131516; color: aliceblue; border-color: #252729;">
                                        <div class="form-check mb-3">
                                            {{signalform.mt5_enabled}}
                                            <label class="form-check-label" for="flexCheckChecked">
                                                MetaTrader5
                                            </label>
                                        </div>
                                        <div id="mt5options">
                                            <div class="row">
                                                <div class="input-group mb-3 col-auto mx-auto" style="width: 40%;">
                                                    {{signalform.mt5_login}}
                                                </div>
                                                <div class="input-group mb-3 col-auto mx-auto" style="width: 40%;">
                                                    {{signalform.mt5_password}}
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-group mb-3 mx-auto col-auto" style="width: 40%;">
                                                    {{signalform.mt5_lot}}
                                                </div>
                                                <div class="input-group mb-3 mx-auto col-auto" style="width: 40%;">
                                                    {{signalform.mt5_server}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-primary" onclick="addMT5Input()">Add More MT5 Inputs</button> -->
                                <br>
                                <input type="submit" value="Submit" class="btn btn-info float-end">
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
    </div>
</body>
<script>

    function addTelegramInput() {
        var telegramInputs = document.getElementById('telegramInputs');
        var newInput = document.createElement('div');
        newInput.setAttribute("class", "card p-3 shadow");
        newInput.setAttribute("style", "background-color: #131516; color: aliceblue; border-color: #252729;");
        newInput.innerHTML = document.getElementById('tgoptions').innerHTML;
        telegramInputs.appendChild(newInput);
    }

    function addMT5Input() {
        var mt5Inputs = document.getElementById('mt5Inputs');
        var newInput = document.createElement('div');
        newInput.innerHTML = document.getElementById('mt5options').innerHTML;
        mt5Inputs.appendChild(newInput);
    }

    function showtg() {
        var htmlShow = document.getElementById("tgoptions");
        if (htmlShow.style.display === "none") {
            htmlShow.style.display = "block";
        } else {
            htmlShow.style.display = "none";
        }
    }
    function showmt5() {
        var htmlShow = document.getElementById("mt5options");
        if (htmlShow.style.display === "none") {
            htmlShow.style.display = "block";
        } else {
            htmlShow.style.display = "none";
        }
    }

    function submitNew() {
        const data = {
            tgenabled: document.getElementById("tgenabled").value,
            tgprefix: document.getElementById("tgprefix").value,
            tgsuffix: document.getElementById("tgsuffix").value,
            tginvitelink: document.getElementById("tginvitelink").value,
            be: document.getElementById("binance_enabled").value,
            bapi: document.getElementById("binance_api_key").value,
            bhash: document.getElementById("binance_api_hash").value
        };
        fetch("{% url 'submitalert' %}", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
        });
    }
</script>

</html>